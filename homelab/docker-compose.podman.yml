# homelab/docker-compose.podman.yml - Podman rootless overrides for homelab
#
# Extends homelab/docker-compose.yml with Podman-specific user namespace
# mappings required for rootless operation (Octant's preferred mode).
#
# The Dockerfile remaps the node user to PUID/PGID (default 2000) at build
# time via ctl.sh --build-arg PUID=$(id -u). Plain keep-id then provides a
# trivial 1:1 mapping (host uid=2000 ↔ container uid=2000), so bind-mounted
# volumes appear on the host under the correct owner without podman unshare.
#
# Usage:
#   podman compose -f homelab/docker-compose.yml \
#                  -f homelab/docker-compose.podman.yml up -d

services:
  openclaw-gateway:
    # 1:1 UID mapping: host user (uid=2000) ↔ container node user (uid=2000).
    # Requires image built with matching PUID/PGID args (ctl.sh does this).
    userns_mode: "keep-id"
